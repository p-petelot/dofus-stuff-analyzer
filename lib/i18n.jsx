import { createContext, useContext, useEffect, useMemo, useState } from "react";

export const SUPPORTED_LANGUAGES = {
  fr: {
    label: "Français",
    shortLabel: "FR",
    country: "France",
    flag: "https://flagcdn.com/fr.svg",
    locales: ["fr", "fr-FR", "fr-CA"],
  },
  en: {
    label: "English",
    shortLabel: "EN",
    country: "United Kingdom",
    flag: "https://flagcdn.com/gb.svg",
    locales: ["en", "en-US", "en-GB", "en-CA", "en-AU"],
  },
  es: {
    label: "Español",
    shortLabel: "ES",
    country: "España",
    flag: "https://flagcdn.com/es.svg",
    locales: ["es", "es-ES", "es-MX", "es-AR"],
  },
  pt: {
    label: "Português",
    shortLabel: "PT",
    country: "Portugal",
    flag: "https://flagcdn.com/pt.svg",
    locales: ["pt", "pt-PT", "pt-BR"],
  },
  de: {
    label: "Deutsch",
    shortLabel: "DE",
    country: "Deutschland",
    flag: "https://flagcdn.com/de.svg",
    locales: ["de", "de-DE", "de-AT", "de-CH"],
  },
};

export const DEFAULT_LANGUAGE = "fr";

const LANGUAGE_VARIANT_KEYS = {
  fr: ["fr", "fr_fr", "frFr", "fr-fr", "frFR", "frfr", "fr_ca", "frCa"],
  en: [
    "en",
    "en_us",
    "enUs",
    "en-gb",
    "enGb",
    "en-uk",
    "en-ca",
    "en-au",
    "en_nz",
  ],
  es: ["es", "es_es", "esEs", "es-mx", "esMx", "es_ar", "esAr", "es-latam"],
  de: ["de", "de_de", "deDe", "de-at", "deAt", "de-ch", "deCh"],
  pt: ["pt", "pt_pt", "ptPt", "pt-br", "ptBr", "ptBR"],
};

const TRANSLATIONS = {
  fr: {
    "brand.tagline": "Crée ton style. Maîtrise ton skin.",
    "meta.description":
      "KROSKIN extrait les couleurs dominantes de tes images pour composer des skins Dofus harmonieux.",
    "theme.selectorAria": "Sélection du thème",
    "theme.option.dark": "Sombre",
    "theme.option.light": "Clair",
    "theme.option.dofus": "Dofus",
    "theme.option.intelligent": "Intelligent",
    "progress.analyzing": "Analyse de l'image en cours",
    "progress.completed": "Analyse terminée",
    "progress.ready": "Analyse prête",
    "toast.colorCopied": "Couleur copiée",
    "toast.shareLinkCopied": "Lien de partage copié",
    "toast.previewCopied": "Aperçu copié",
    "workspace.referenceTitle": "Référence créative",
    "workspace.mode.image": "Image",
    "workspace.mode.color": "Couleur",
    "workspace.mode.items": "Objets",
    "workspace.dropzone.primary": "Glisse ton visuel ici",
    "workspace.dropzone.secondary": "… ou colle-le directement depuis ton presse-papiers",
    "workspace.dropzone.formats": "Formats acceptés : PNG, JPG, WebP, GIF statique",
    "workspace.dropzone.hint": "Clique pour ouvrir l'explorateur de fichiers",
    "workspace.dropzone.previewAlt": "Aperçu de la référence importée",
    "workspace.colorPicker.label": "Sélectionne ta teinte de départ",
    "workspace.colorPicker.random": "Nuance aléatoire",
    "workspace.colorPicker.sr": "Utiliser la couleur {hex}",
    "palette.title": "Palette extraite",
    "palette.badge.analyzing": "Analyse en cours…",
    "palette.skin.groupLabel": "Gestion de la teinte de peau",
    "palette.skin.default": "Peau par défaut",
    "palette.skin.custom": "Peau personnalisée",
    "palette.empty":
      "Glisse un visuel ou sélectionne une couleur d'ambiance : KROSKIN s'occupe de générer automatiquement une palette harmonieuse.",
    "vision.prediction.title": "Analyse du modèle",
    "vision.prediction.loading": "Prédiction en cours…",
    "vision.prediction.placeholder": "Importe une image pour lancer la prédiction.",
    "vision.prediction.topClass": "Classe prédite",
    "vision.prediction.confidence": "Confiance",
    "vision.prediction.colors": "Couleurs détectées",
    "vision.prediction.top5": "Top 5 classes",
    "vision.prediction.preview.title": "Aperçu du rendu",
    "vision.prediction.preview.alt": "Skin généré par le renderer",
    "vision.prediction.preview.missing": "Aucun aperçu disponible.",
    "vision.prediction.preview.open": "Ouvrir le renderer",
    "vision.prediction.preview.metaClass": "Classe / Sexe",
    "vision.prediction.preview.metaHead": "Tête",
    "vision.prediction.preview.noHead": "Aucune",
    "vision.prediction.error": "Impossible de calculer la prédiction pour le moment.",
    "vision.prediction.sex.unknown": "Inconnu",
    "vision.lab.title": "Atelier Dofus Vision",
    "vision.lab.subtitle":
      "Génère des sprites, entraîne le modèle et valide les prédictions directement depuis KROSKIN.",
    "vision.lab.generate.title": "Générer un jeu de données",
    "vision.lab.generate.description": "Crée automatiquement des rendus aléatoires pour enrichir l'entraînement.",
    "vision.lab.generate.per": "Images par combinaison",
    "vision.lab.generate.renderer": "URL du renderer",
    "vision.lab.generate.button": "Lancer la génération",
    "vision.lab.generate.status.idle": "Prêt à générer un nouveau lot.",
    "vision.lab.generate.status.running": "Génération en cours…",
    "vision.lab.generate.status.success": "Jeu de données généré avec succès.",
    "vision.lab.generate.status.error": "Échec de la génération. Vérifie le renderer.",
    "vision.lab.train.title": "Entraîner le modèle",
    "vision.lab.train.description": "Affûte la reconnaissance classe/sexe avec quelques hyperparamètres clés.",
    "vision.lab.train.epochs": "Epochs",
    "vision.lab.train.batch": "Taille de batch",
    "vision.lab.train.imgSize": "Taille d'image",
    "vision.lab.train.learningRate": "Learning rate",
    "vision.lab.train.button": "Démarrer l'entraînement",
    "vision.lab.train.status.idle": "Prêt à relancer un entraînement.",
    "vision.lab.train.status.running": "Entraînement en cours…",
    "vision.lab.train.status.success": "Modèle mis à jour avec succès.",
    "vision.lab.train.status.error": "Échec de l'entraînement. Consulte les logs du serveur.",
    "vision.lab.predict.title": "Tester une image",
    "vision.lab.predict.description": "Téléverse une image de skin pour vérifier la prédiction du modèle.",
    "vision.lab.predict.upload": "Choisir une image",
    "vision.lab.predict.error": "Impossible de prédire cette image pour le moment.",
    "identity.groupLabel": "Configuration du personnage Dofus",
    "identity.gender.sectionTitle": "Choix de la classe et du sexe",
    "identity.gender.groupLabel": "Sexe du personnage",
    "identity.gender.male": "Homme",
    "identity.gender.female": "Femme",
    "identity.class.sectionTitle": "Sélection de la classe",
    "identity.class.loading": "Chargement des classes…",
    "identity.class.retry": "Réessayer",
    "identity.class.fallback": "Classe {id}",
    "identity.class.choose": "Choisir {name}",
    "identity.companion.sectionTitle": "Familiers & montures proposés",
    "identity.companion.groupLabel": "Filtrer les compagnons suggérés",
    "identity.companion.empty": "Active au moins une catégorie pour afficher des suggestions de compagnons.",
    "identity.filters.sectionTitle": "Filtres d'objets",
    "identity.filters.optionalTitle": "Objets optionnels",
    "identity.preview.combatPose": "Pose de combat",
    "identity.preview.direction.label": "Orientation du personnage",
    "identity.preview.direction.right": "Orienter vers la droite",
    "identity.preview.direction.bottomRight": "Orienter vers le bas à droite",
    "identity.preview.direction.bottom": "Orienter vers le bas",
    "identity.preview.direction.bottomLeft": "Orienter vers le bas à gauche",
    "identity.preview.direction.left": "Orienter vers la gauche",
    "identity.preview.direction.topLeft": "Orienter vers le haut à gauche",
    "identity.preview.direction.top": "Orienter vers le haut",
    "identity.preview.direction.topRight": "Orienter vers le haut à droite",
    "identity.preview.direction.rotateLeft": "Tourner vers la gauche",
    "identity.preview.direction.rotateRight": "Tourner vers la droite",
    "identity.preview.direction.hint":
      "Maintiens le clic ou le doigt et fais glisser pour tourner. Utilise les flèches du clavier pour pivoter.",
    "identity.preview.direction.announce": "Orientation actuelle : {direction}",
    "identity.previewBackground.sectionTitle": "Arrière-plan du rendu",
    "identity.previewBackground.toggleLabel": "Fond immersif",
    "identity.previewBackground.enable": "Activer l'arrière-plan immersif",
    "identity.previewBackground.disable": "Désactiver l'arrière-plan immersif",
    "identity.previewBackground.auto": "Automatique",
    "identity.previewBackground.random": "Aléatoire",
    "identity.previewBackground.choose": "Utiliser l'arrière-plan {label}",
    "identity.previewBackground.chooseAuto": "Choisir automatiquement l'arrière-plan le plus adapté",
    "identity.previewBackground.chooseRandom": "Choisir un arrière-plan aléatoire",
    "identity.previewBackground.empty":
      "Ajoute des PNG dans le dossier « backgrounds » pour activer cette option.",
    "previewBackground.card.title": "Fond immersif",
    "filters.card.title": "Filtres de suggestion",
    "companions.filters.pet": "Familiers",
    "companions.filters.mount": "Montures",
    "companions.filters.dragodinde": "Dragodindes",
    "companions.filters.muldo": "Muldos",
    "companions.filters.volkorne": "Volkornes",
    "companions.toggle.hide": "Masquer {label}",
    "companions.toggle.show": "Afficher {label}",
    "itemTypes.coiffe": "Coiffe",
    "itemTypes.cape": "Cape",
    "itemTypes.familier": "Familiers & montures",
    "itemTypes.bouclier": "Bouclier",
    "itemTypes.epauliere": "Épaulières",
    "itemTypes.costume": "Costume",
    "itemTypes.ailes": "Ailes",
    "items.selector.title": "Sélection de {type}",
    "items.selector.loading": "Chargement des objets…",
    "items.selector.empty": "Aucun objet ne correspond à ta recherche.",
    "items.selector.hint": "Choisis un slot pour parcourir les objets compatibles.",
    "items.selector.searchLabel": "Rechercher un objet",
    "items.selector.searchPlaceholder": "Rechercher un objet…",
    "items.selector.lockedBadge": "Sélectionné",
    "items.selector.countTotal": "{count} objet(s)",
    "items.selector.countFiltered": "{count} sur {total}",
    "items.selector.disabled": "Désactivé",
    "items.filters.colorable": "Colorisables",
    "items.filters.cosmetic": "Cosmétiques",
    "items.flags.cosmetic": "Objet cosmétique",
    "items.flags.colorable": "Synchronisé avec les couleurs du personnage",
    "errors.previewDownload": "Impossible de télécharger l'aperçu.",
    "errors.previewCopy": "Impossible de copier l'aperçu.",
    "errors.noColors": "Aucune couleur dominante détectée.",
    "errors.paletteExtraction": "Impossible d'extraire les couleurs de cette image.",
    "errors.corruptedImage": "L'image semble corrompue ou illisible.",
    "errors.fileType": "Merci de choisir un fichier image.",
    "errors.fileRead": "Lecture du fichier impossible.",
    "errors.clipboard": "Impossible de copier dans le presse-papiers.",
    "errors.breeds": "Impossible de récupérer les classes Dofus.",
    "errors.itemsUnavailable": "Impossible de récupérer les objets Dofus pour le moment.",
    "errors.itemsPartial": "Certaines catégories d'objets n'ont pas pu être chargées.",
    "errors.previewUnavailable": "Prévisualisation indisponible",
    "errors.previewUnavailableDetailed": "Prévisualisation Dofus indisponible",
    "errors.imageMissing": "Illustration manquante sur DofusDB.",
    "errors.paletteMissing": "Palette non détectée sur l'illustration.",
    "errors.paletteEstimated": "Palette estimée à partir des données DofusDB.",
    "errors.shareLink": "Impossible de générer le lien du skin.",
    "errors.recapExport": "Impossible de générer l'image récap.",
    "suggestions.header.updating": "Mise à jour…",
    "suggestions.empty.start": "Lance une analyse pour découvrir des correspondances Dofus adaptées.",
    "suggestions.empty.items": "Sélectionne au moins un objet pour générer des propositions.",
    "suggestions.empty.itemsPalette": "Les objets sélectionnés ne disposent pas de palette exploitable.",
    "suggestions.empty.identity":
      "Sélectionne une classe et une référence couleur pour afficher des suggestions.",
    "suggestions.empty.results":
      "Aucune combinaison exploitable n'a été trouvée pour cette palette.",
    "suggestions.loading.items": "Chargement des objets Dofus…",
    "suggestions.empty.catalog": "Aucun objet n'a pu être récupéré pour le moment.",
    "suggestions.carousel.skinCount": "Skin {current} / {total}",
    "suggestions.carousel.previous": "Skin précédent",
    "suggestions.carousel.next": "Skin suivant",
    "suggestions.carousel.dotLabel": "Afficher le skin {index}",
    "suggestions.carousel.proposalTitle": "Proposition {index}",
    "suggestions.render.alt": "Aperçu généré pour le skin {index}",
    "suggestions.render.itemAlt": "Illustration de {name}",
    "suggestions.render.downloading": "Téléchargement…",
    "suggestions.render.download": "Télécharger l'image",
    "suggestions.render.loading": "Rendu en cours…",
    "suggestions.render.unavailable": "Rendu indisponible",
    "suggestions.render.defaultName": "Proposition {index}",
    "suggestions.render.link": "Projeter dans Barbofus",
    "suggestions.render.linkUnavailable": "Passerelle Barbofus indisponible",
    "suggestions.render.souff": "Voir sur Skin Souff",
    "suggestions.render.souffUnavailable": "Lien Skin Souff indisponible",
    "suggestions.render.copySkin": "Copier la capsule KROSKIN",
    "suggestions.render.copySkinUnavailable": "Copie de capsule indisponible",
    "suggestions.render.share": "Partager la vitrine",
    "suggestions.render.shareUnavailable": "Lien de vitrine indisponible",
    "suggestions.render.recap": "Exporter la vitrine HD",
    "suggestions.render.recapUnavailable": "Export vitrine indisponible",
    "suggestions.render.comparisonAria": "Maintiens l'œil pour afficher le rendu sans stuff",
    "suggestions.render.noStuffLabel": "No Stuff",
    "suggestions.render.stuffLabel": "Stuff",
    "suggestions.render.tapForDetails": "Appuie pour voir les détails",
    "suggestions.render.openDetails": "Voir le détail",
    "suggestions.panel.title": "Correspondances détaillées",
    "suggestions.panel.hide": "Masquer les correspondances détaillées",
    "suggestions.panel.show": "Afficher les correspondances détaillées",
    "suggestions.panel.close": "Fermer les correspondances détaillées",
    "suggestions.panel.updating": "Mise à jour des suggestions…",
    "suggestions.panel.bestMatch": "Meilleur match",
    "suggestions.panel.empty": "Aucune correspondance probante pour cette teinte.",
    "suggestions.render.reroll": "Autre proposition",
    "suggestions.palette.unavailable": "Palette indisponible",
    "suggestions.thumb.placeholder": "Aperçu indisponible",
    "actions.retry": "Réessayer",
    "actions.downloadImage": "Télécharger l'image",
    "actions.close": "Fermer",
    "actions.clear": "Réinitialiser",
    "language.selectorLabel": "Langue",
    "language.selectorAria": "Choisir la langue de l'interface",
    "aria.analysisMode": "Mode d'analyse",
    "aria.colorSuggestions": "Suggestions de couleurs",
    "aria.colorCodeFormat": "Format des codes couleur",
    "aria.skinToneGroup": "Gestion de la teinte de peau",
    "aria.skinToneChoices": "Choix de la teinte de peau",
    "aria.identityCard": "Configuration du personnage Dofus",
    "aria.filtersCard": "Paramètres des filtres de suggestion",
    "aria.genderSection": "Sélection du sexe",
    "aria.genderGroup": "Sexe du personnage",
    "aria.classSection": "Sélection de la classe",
    "aria.classGroup": "Classe du personnage",
    "aria.companionSection": "Catégories de compagnons proposées",
    "aria.companionFilter": "Filtrer les compagnons suggérés",
    "aria.itemFlagSection": "Filtres d'attributs d'objet",
    "aria.itemFlagFilter": "Filtrer les suggestions selon les attributs",
    "aria.optionalItemFilter": "Activer ou désactiver les objets optionnels",
    "aria.combatPoseToggle": "Activer ou désactiver la pose de combat",
    "aria.previewBackgroundSection": "Personnalisation de l'arrière-plan de prévisualisation",
    "aria.previewBackgroundToggle": "Activer ou désactiver l'arrière-plan de prévisualisation",
    "aria.previewBackgroundPicker": "Choisir un arrière-plan de prévisualisation",
    "aria.previewBackgroundCard": "Paramètres du fond immersif",
    "aria.previewDirectionControl": "Choisir l'orientation du rendu",
    "aria.carouselPrevious": "Skin précédent",
    "aria.carouselNext": "Skin suivant",
    "aria.carouselDots": "Choisir une proposition",
    "aria.carouselDotSelect": "Afficher le skin {index}",
    "aria.panelToggleOpen": "Afficher les correspondances détaillées",
    "aria.panelToggleClose": "Masquer les correspondances détaillées",
    "aria.panelClose": "Fermer les correspondances détaillées",
    "aria.panelBackdrop": "Fermer les correspondances détaillées",
    "aria.itemReroll": "Proposer un autre {type}",
    "aria.itemSlotClear": "Retirer {type}",
    "aria.closeItemPanel": "Fermer la sélection d'objets",
  },
  en: {
    "brand.tagline": "Create your style. Master your skin.",
    "meta.description":
      "KROSKIN extracts the dominant colors from your images to craft harmonious Dofus outfits.",
    "theme.selectorAria": "Theme selection",
    "theme.option.dark": "Dark",
    "theme.option.light": "Light",
    "theme.option.dofus": "Dofus",
    "theme.option.intelligent": "Intelligent",
    "progress.analyzing": "Analyzing image",
    "progress.completed": "Analysis completed",
    "progress.ready": "Analysis ready",
    "toast.colorCopied": "Color copied",
    "toast.shareLinkCopied": "Share link copied",
    "toast.previewCopied": "Preview copied",
    "workspace.referenceTitle": "Creative reference",
    "workspace.mode.image": "Image",
    "workspace.mode.color": "Color",
    "workspace.mode.items": "Items",
    "workspace.dropzone.primary": "Drop your visual here",
    "workspace.dropzone.secondary": "… or paste it directly from your clipboard",
    "workspace.dropzone.formats": "Supported formats: PNG, JPG, WebP, static GIF",
    "workspace.dropzone.hint": "Click to open the file picker",
    "workspace.dropzone.previewAlt": "Preview of the imported reference",
    "workspace.colorPicker.label": "Pick your base tone",
    "workspace.colorPicker.random": "Random shade",
    "workspace.colorPicker.sr": "Use color {hex}",
    "palette.title": "Extracted palette",
    "palette.badge.analyzing": "Analyzing…",
    "palette.skin.groupLabel": "Skin tone handling",
    "palette.skin.default": "Default skin",
    "palette.skin.custom": "Custom skin",
    "palette.empty":
      "Drop an image or choose a vibe color — KROSKIN automatically builds a harmonious palette.",
    "vision.prediction.title": "Model prediction",
    "vision.prediction.loading": "Running prediction…",
    "vision.prediction.placeholder": "Upload an image to run the model.",
    "vision.prediction.topClass": "Predicted class",
    "vision.prediction.confidence": "Confidence",
    "vision.prediction.colors": "Detected colors",
    "vision.prediction.top5": "Top 5 classes",
    "vision.prediction.preview.title": "Renderer preview",
    "vision.prediction.preview.alt": "Skin rendered with the predicted palette",
    "vision.prediction.preview.missing": "No preview available.",
    "vision.prediction.preview.open": "Open renderer",
    "vision.prediction.preview.metaClass": "Class / Gender",
    "vision.prediction.preview.metaHead": "Head",
    "vision.prediction.preview.noHead": "None",
    "vision.prediction.error": "Unable to compute a prediction right now.",
    "vision.prediction.sex.unknown": "Unknown",
    "vision.lab.title": "Dofus Vision Lab",
    "vision.lab.subtitle":
      "Generate sprites, train the model and validate predictions without leaving KROSKIN.",
    "vision.lab.generate.title": "Generate a dataset",
    "vision.lab.generate.description": "Create random renders to expand your training data.",
    "vision.lab.generate.per": "Images per combination",
    "vision.lab.generate.renderer": "Renderer URL",
    "vision.lab.generate.button": "Start generation",
    "vision.lab.generate.status.idle": "Ready to generate a new batch.",
    "vision.lab.generate.status.running": "Generating dataset…",
    "vision.lab.generate.status.success": "Dataset generated successfully.",
    "vision.lab.generate.status.error": "Generation failed. Check the renderer.",
    "vision.lab.train.title": "Train the model",
    "vision.lab.train.description": "Tune class/sex recognition with a few essential hyperparameters.",
    "vision.lab.train.epochs": "Epochs",
    "vision.lab.train.batch": "Batch size",
    "vision.lab.train.imgSize": "Image size",
    "vision.lab.train.learningRate": "Learning rate",
    "vision.lab.train.button": "Start training",
    "vision.lab.train.status.idle": "Ready to launch training.",
    "vision.lab.train.status.running": "Training in progress…",
    "vision.lab.train.status.success": "Model updated successfully.",
    "vision.lab.train.status.error": "Training failed. Check the server logs.",
    "vision.lab.predict.title": "Test an image",
    "vision.lab.predict.description": "Upload a skin render to check the model prediction.",
    "vision.lab.predict.upload": "Select an image",
    "vision.lab.predict.error": "Unable to predict this image right now.",
    "identity.groupLabel": "Dofus character setup",
    "identity.gender.sectionTitle": "Class and gender selection",
    "identity.gender.groupLabel": "Character gender",
    "identity.gender.male": "Male",
    "identity.gender.female": "Female",
    "identity.class.sectionTitle": "Class selection",
    "identity.class.loading": "Loading classes…",
    "identity.class.retry": "Retry",
    "identity.class.fallback": "Class {id}",
    "identity.class.choose": "Choose {name}",
    "identity.companion.sectionTitle": "Suggested pets & mounts",
    "identity.companion.groupLabel": "Filter the suggested companions",
    "identity.companion.empty": "Enable at least one category to display companion suggestions.",
    "identity.filters.sectionTitle": "Item filters",
    "identity.filters.optionalTitle": "Optional items",
    "identity.preview.combatPose": "Combat pose",
    "identity.preview.direction.label": "Facing direction",
    "identity.preview.direction.right": "Face right",
    "identity.preview.direction.bottomRight": "Face down-right",
    "identity.preview.direction.bottom": "Face down",
    "identity.preview.direction.bottomLeft": "Face down-left",
    "identity.preview.direction.left": "Face left",
    "identity.preview.direction.topLeft": "Face up-left",
    "identity.preview.direction.top": "Face up",
    "identity.preview.direction.topRight": "Face up-right",
    "identity.preview.direction.rotateLeft": "Rotate left",
    "identity.preview.direction.rotateRight": "Rotate right",
    "identity.preview.direction.hint":
      "Click or press and drag to rotate. Use the arrow keys to change direction.",
    "identity.preview.direction.announce": "Current facing: {direction}",
    "identity.previewBackground.sectionTitle": "Preview background",
    "identity.previewBackground.toggleLabel": "Immersive background",
    "identity.previewBackground.enable": "Enable immersive preview background",
    "identity.previewBackground.disable": "Disable immersive preview background",
    "identity.previewBackground.auto": "Automatic",
    "identity.previewBackground.random": "Random",
    "identity.previewBackground.choose": "Use the {label} background",
    "identity.previewBackground.chooseAuto": "Let the app pick the most suitable background automatically",
    "identity.previewBackground.chooseRandom": "Pick a random background",
    "identity.previewBackground.empty":
      "Add PNG files to the \"backgrounds\" folder to enable this option.",
    "previewBackground.card.title": "Immersive background",
    "filters.card.title": "Suggestion filters",
    "companions.filters.pet": "Pets",
    "companions.filters.mount": "Mounts",
    "companions.filters.dragodinde": "Dragoturkeys",
    "companions.filters.muldo": "Muldo",
    "companions.filters.volkorne": "Volkorne",
    "companions.toggle.hide": "Hide {label}",
    "companions.toggle.show": "Show {label}",
    "itemTypes.coiffe": "Headgear",
    "itemTypes.cape": "Cape",
    "itemTypes.familier": "Pets & mounts",
    "itemTypes.bouclier": "Shield",
    "itemTypes.epauliere": "Shoulder pads",
    "itemTypes.costume": "Costume",
    "itemTypes.ailes": "Wings",
    "items.selector.title": "Select {type}",
    "items.selector.loading": "Loading items…",
    "items.selector.empty": "No items match your search.",
    "items.selector.hint": "Choose a slot to browse compatible items.",
    "items.selector.searchLabel": "Search item",
    "items.selector.searchPlaceholder": "Search an item…",
    "items.selector.lockedBadge": "Selected",
    "items.selector.countTotal": "{count} item(s)",
    "items.selector.countFiltered": "{count} of {total}",
    "items.selector.disabled": "Disabled",
    "items.filters.colorable": "Color-synced",
    "items.filters.cosmetic": "Cosmetics",
    "items.flags.cosmetic": "Cosmetic item",
    "items.flags.colorable": "Matches character colors",
    "errors.previewDownload": "Unable to download the preview.",
    "errors.previewCopy": "Unable to copy the preview.",
    "errors.noColors": "No dominant color detected.",
    "errors.paletteExtraction": "Unable to extract colors from this image.",
    "errors.corruptedImage": "The image appears to be corrupted or unreadable.",
    "errors.fileType": "Please choose an image file.",
    "errors.fileRead": "Unable to read the file.",
    "errors.clipboard": "Unable to copy to the clipboard.",
    "errors.breeds": "Unable to fetch Dofus classes.",
    "errors.itemsUnavailable": "Unable to fetch Dofus items right now.",
    "errors.itemsPartial": "Some item categories could not be loaded.",
    "errors.previewUnavailable": "Preview unavailable",
    "errors.previewUnavailableDetailed": "Dofus preview unavailable",
    "errors.imageMissing": "Illustration missing on DofusDB.",
    "errors.paletteMissing": "Palette not detected on the illustration.",
    "errors.paletteEstimated": "Palette estimated from DofusDB data.",
    "errors.shareLink": "Unable to generate the skin link.",
    "errors.recapExport": "Unable to generate the recap image.",
    "suggestions.header.updating": "Updating…",
    "suggestions.empty.start": "Start an analysis to discover matching Dofus equipment.",
    "suggestions.empty.items": "Select at least one item to generate proposals.",
    "suggestions.empty.itemsPalette": "The selected items do not provide usable palette data.",
    "suggestions.empty.identity": "Pick a class and a reference color to see tailored suggestions.",
    "suggestions.empty.results": "No usable combinations were found for this palette.",
    "suggestions.loading.items": "Loading Dofus items…",
    "suggestions.empty.catalog": "No items could be retrieved yet.",
    "suggestions.carousel.skinCount": "Skin {current} / {total}",
    "suggestions.carousel.previous": "Previous skin",
    "suggestions.carousel.next": "Next skin",
    "suggestions.carousel.dotLabel": "Show skin {index}",
    "suggestions.carousel.proposalTitle": "Proposal {index}",
    "suggestions.render.alt": "Generated preview for skin {index}",
    "suggestions.render.itemAlt": "Artwork of {name}",
    "suggestions.render.downloading": "Downloading…",
    "suggestions.render.download": "Download image",
    "suggestions.render.loading": "Rendering…",
    "suggestions.render.unavailable": "Render unavailable",
    "suggestions.render.defaultName": "Proposal {index}",
    "suggestions.render.link": "Project in Barbofus",
    "suggestions.render.linkUnavailable": "Barbofus bridge unavailable",
    "suggestions.render.souff": "Open in Skin Souff",
    "suggestions.render.souffUnavailable": "Skin Souff link unavailable",
    "suggestions.render.copySkin": "Copy the KROSKIN render",
    "suggestions.render.copySkinUnavailable": "Render copy unavailable",
    "suggestions.render.share": "Share the showcase",
    "suggestions.render.shareUnavailable": "Showcase link unavailable",
    "suggestions.render.recap": "Export the HD showcase",
    "suggestions.render.recapUnavailable": "Showcase export unavailable",
    "suggestions.render.comparisonAria": "Hold the eye button to show the look without gear",
    "suggestions.render.noStuffLabel": "No Stuff",
    "suggestions.render.stuffLabel": "Stuff",
    "suggestions.render.tapForDetails": "Tap to view details",
    "suggestions.render.openDetails": "Open details",
    "suggestions.panel.title": "Detailed matches",
    "suggestions.panel.hide": "Hide detailed matches",
    "suggestions.panel.show": "Show detailed matches",
    "suggestions.panel.close": "Close detailed matches",
    "suggestions.panel.updating": "Refreshing suggestions…",
    "suggestions.panel.bestMatch": "Best match",
    "suggestions.panel.empty": "No convincing match for this palette.",
    "suggestions.render.reroll": "Show another item",
    "suggestions.palette.unavailable": "Palette unavailable",
    "suggestions.thumb.placeholder": "Preview unavailable",
    "actions.retry": "Retry",
    "actions.downloadImage": "Download image",
    "actions.close": "Close",
    "actions.clear": "Reset",
    "language.selectorLabel": "Language",
    "language.selectorAria": "Select interface language",
    "aria.analysisMode": "Analysis mode",
    "aria.colorSuggestions": "Color suggestions",
    "aria.colorCodeFormat": "Color code format",
    "aria.skinToneGroup": "Skin tone handling",
    "aria.skinToneChoices": "Skin tone choices",
    "aria.identityCard": "Dofus character setup",
    "aria.filtersCard": "Suggestion filter controls",
    "aria.genderSection": "Gender selection",
    "aria.genderGroup": "Character gender",
    "aria.classSection": "Class selection",
    "aria.classGroup": "Character class",
    "aria.companionSection": "Suggested companion categories",
    "aria.companionFilter": "Filter suggested companions",
    "aria.itemFlagSection": "Item attribute filters",
    "aria.itemFlagFilter": "Filter suggested items by attributes",
    "aria.optionalItemFilter": "Toggle optional items in suggestions",
    "aria.combatPoseToggle": "Toggle the combat pose",
    "aria.previewBackgroundSection": "Preview background settings",
    "aria.previewBackgroundToggle": "Toggle the preview background",
    "aria.previewBackgroundPicker": "Choose a preview background",
    "aria.previewBackgroundCard": "Immersive background settings",
    "aria.previewDirectionControl": "Change the render facing direction",
    "aria.carouselPrevious": "Previous skin",
    "aria.carouselNext": "Next skin",
    "aria.carouselDots": "Choose a proposal",
    "aria.carouselDotSelect": "Show skin {index}",
    "aria.panelToggleOpen": "Show detailed matches",
    "aria.panelToggleClose": "Hide detailed matches",
    "aria.panelClose": "Close detailed matches",
    "aria.panelBackdrop": "Close detailed matches",
    "aria.itemReroll": "Show another {type}",
    "aria.itemSlotClear": "Remove {type}",
    "aria.closeItemPanel": "Close item selection",
  },
  es: {
    "brand.tagline": "Crea tu estilo. Domina tu skin.",
    "meta.description":
      "KROSKIN extrae los colores dominantes de tus imágenes para crear conjuntos de Dofus armoniosos.",
    "theme.selectorAria": "Selección de tema",
    "theme.option.dark": "Oscuro",
    "theme.option.light": "Claro",
    "theme.option.dofus": "Dofus",
    "theme.option.intelligent": "Inteligente",
    "progress.analyzing": "Analizando imagen",
    "progress.completed": "Análisis completado",
    "progress.ready": "Análisis listo",
    "toast.colorCopied": "Color copiado",
    "toast.shareLinkCopied": "Enlace para compartir copiado",
    "toast.previewCopied": "Vista previa copiada",
    "workspace.referenceTitle": "Referencia creativa",
    "workspace.mode.image": "Imagen",
    "workspace.mode.color": "Color",
    "workspace.mode.items": "Objetos",
    "workspace.dropzone.primary": "Suelta tu visual aquí",
    "workspace.dropzone.secondary": "… o pégalo directamente desde el portapapeles",
    "workspace.dropzone.formats": "Formatos compatibles: PNG, JPG, WebP, GIF estático",
    "workspace.dropzone.hint": "Haz clic para abrir el selector de archivos",
    "workspace.dropzone.previewAlt": "Vista previa de la referencia importada",
    "workspace.colorPicker.label": "Elige tu tono base",
    "workspace.colorPicker.random": "Tono aleatorio",
    "workspace.colorPicker.sr": "Usar el color {hex}",
    "palette.title": "Paleta extraída",
    "palette.badge.analyzing": "Analizando…",
    "palette.skin.groupLabel": "Gestión del tono de piel",
    "palette.skin.default": "Piel predeterminada",
    "palette.skin.custom": "Piel personalizada",
    "palette.empty":
      "Suelta una imagen o elige un color ambiental: KROSKIN genera automáticamente una paleta armoniosa.",
    "vision.prediction.title": "Predicción del modelo",
    "vision.prediction.loading": "Predicción en curso…",
    "vision.prediction.placeholder": "Sube una imagen para lanzar el modelo.",
    "vision.prediction.topClass": "Clase predicha",
    "vision.prediction.confidence": "Confianza",
    "vision.prediction.colors": "Colores detectados",
    "vision.prediction.top5": "Top 5 clases",
    "vision.prediction.preview.title": "Vista previa del renderer",
    "vision.prediction.preview.alt": "Skin generado con la paleta predicha",
    "vision.prediction.preview.missing": "Sin vista previa disponible.",
    "vision.prediction.preview.open": "Abrir renderer",
    "vision.prediction.preview.metaClass": "Clase / Sexo",
    "vision.prediction.preview.metaHead": "Cabeza",
    "vision.prediction.preview.noHead": "Ninguna",
    "vision.prediction.error": "No se pudo calcular la predicción por ahora.",
    "vision.prediction.sex.unknown": "Desconocido",
    "vision.lab.title": "Laboratorio Dofus Vision",
    "vision.lab.subtitle":
      "Genera sprites, entrena el modelo y valida las predicciones sin salir de KROSKIN.",
    "vision.lab.generate.title": "Generar dataset",
    "vision.lab.generate.description": "Crea renders aleatorios para ampliar tus datos de entrenamiento.",
    "vision.lab.generate.per": "Imágenes por combinación",
    "vision.lab.generate.renderer": "URL del renderizador",
    "vision.lab.generate.button": "Iniciar generación",
    "vision.lab.generate.status.idle": "Listo para generar un nuevo lote.",
    "vision.lab.generate.status.running": "Generando dataset…",
    "vision.lab.generate.status.success": "Dataset generado correctamente.",
    "vision.lab.generate.status.error": "La generación falló. Revisa el renderizador.",
    "vision.lab.train.title": "Entrenar el modelo",
    "vision.lab.train.description": "Ajusta la detección de clase/sexo con unos pocos hiperparámetros.",
    "vision.lab.train.epochs": "Epochs",
    "vision.lab.train.batch": "Tamaño de lote",
    "vision.lab.train.imgSize": "Tamaño de imagen",
    "vision.lab.train.learningRate": "Learning rate",
    "vision.lab.train.button": "Iniciar entrenamiento",
    "vision.lab.train.status.idle": "Listo para lanzar un entrenamiento.",
    "vision.lab.train.status.running": "Entrenamiento en curso…",
    "vision.lab.train.status.success": "Modelo actualizado correctamente.",
    "vision.lab.train.status.error": "El entrenamiento falló. Consulta los logs del servidor.",
    "vision.lab.predict.title": "Probar una imagen",
    "vision.lab.predict.description": "Sube un skin para comprobar la predicción del modelo.",
    "vision.lab.predict.upload": "Seleccionar imagen",
    "vision.lab.predict.error": "No se pudo predecir esta imagen por ahora.",
    "identity.groupLabel": "Configuración del personaje de Dofus",
    "identity.gender.sectionTitle": "Selección de clase y género",
    "identity.gender.groupLabel": "Género del personaje",
    "identity.gender.male": "Masculino",
    "identity.gender.female": "Femenino",
    "identity.class.sectionTitle": "Selección de clase",
    "identity.class.loading": "Cargando clases…",
    "identity.class.retry": "Reintentar",
    "identity.class.fallback": "Clase {id}",
    "identity.class.choose": "Elegir {name}",
    "identity.companion.sectionTitle": "Mascotas y monturas sugeridas",
    "identity.companion.groupLabel": "Filtrar los compañeros sugeridos",
    "identity.companion.empty": "Activa al menos una categoría para mostrar sugerencias de compañeros.",
    "identity.filters.sectionTitle": "Filtros de objetos",
    "identity.filters.optionalTitle": "Objetos opcionales",
    "identity.preview.combatPose": "Pose de combate",
    "identity.preview.direction.label": "Dirección del personaje",
    "identity.preview.direction.right": "Orientar hacia la derecha",
    "identity.preview.direction.bottomRight": "Orientar hacia abajo a la derecha",
    "identity.preview.direction.bottom": "Orientar hacia abajo",
    "identity.preview.direction.bottomLeft": "Orientar hacia abajo a la izquierda",
    "identity.preview.direction.left": "Orientar hacia la izquierda",
    "identity.preview.direction.topLeft": "Orientar hacia arriba a la izquierda",
    "identity.preview.direction.top": "Orientar hacia arriba",
    "identity.preview.direction.topRight": "Orientar hacia arriba a la derecha",
    "identity.preview.direction.rotateLeft": "Girar a la izquierda",
    "identity.preview.direction.rotateRight": "Girar a la derecha",
    "identity.preview.direction.hint":
      "Mantén pulsado y arrastra para girar. Usa las flechas del teclado para cambiar la orientación.",
    "identity.preview.direction.announce": "Orientación actual: {direction}",
    "identity.previewBackground.sectionTitle": "Fondo de la previsualización",
    "identity.previewBackground.toggleLabel": "Fondo inmersivo",
    "identity.previewBackground.enable": "Activar el fondo inmersivo de la previsualización",
    "identity.previewBackground.disable": "Desactivar el fondo inmersivo de la previsualización",
    "identity.previewBackground.auto": "Automático",
    "identity.previewBackground.random": "Aleatorio",
    "identity.previewBackground.choose": "Usar el fondo {label}",
    "identity.previewBackground.chooseAuto": "Elegir automáticamente el fondo más adecuado",
    "identity.previewBackground.chooseRandom": "Elegir un fondo aleatorio",
    "identity.previewBackground.empty":
      "Añade archivos PNG en la carpeta «backgrounds» para activar esta opción.",
    "previewBackground.card.title": "Fondo inmersivo",
    "filters.card.title": "Filtros de sugerencias",
    "companions.filters.pet": "Mascotas",
    "companions.filters.mount": "Monturas",
    "companions.filters.dragodinde": "Dragopavos",
    "companions.filters.muldo": "Muldo",
    "companions.filters.volkorne": "Volkorne",
    "companions.toggle.hide": "Ocultar {label}",
    "companions.toggle.show": "Mostrar {label}",
    "itemTypes.coiffe": "Sombrero",
    "itemTypes.cape": "Capa",
    "itemTypes.familier": "Mascotas y monturas",
    "itemTypes.bouclier": "Escudo",
    "itemTypes.epauliere": "Hombreras",
    "itemTypes.costume": "Disfraz",
    "itemTypes.ailes": "Alas",
    "items.selector.title": "Seleccionar {type}",
    "items.selector.loading": "Cargando objetos…",
    "items.selector.empty": "Ningún objeto coincide con tu búsqueda.",
    "items.selector.hint": "Elige una casilla para explorar los objetos compatibles.",
    "items.selector.searchLabel": "Buscar objeto",
    "items.selector.searchPlaceholder": "Buscar un objeto…",
    "items.selector.lockedBadge": "Seleccionado",
    "items.selector.countTotal": "{count} objeto(s)",
    "items.selector.countFiltered": "{count} de {total}",
    "items.selector.disabled": "Desactivado",
    "items.filters.colorable": "Coloreables",
    "items.filters.cosmetic": "Cosméticos",
    "items.flags.cosmetic": "Objeto cosmético",
    "items.flags.colorable": "Se adapta a los colores del personaje",
    "errors.previewDownload": "No se pudo descargar la vista previa.",
    "errors.previewCopy": "No se pudo copiar la vista previa.",
    "errors.noColors": "No se detectó ningún color dominante.",
    "errors.paletteExtraction": "No se pudieron extraer los colores de esta imagen.",
    "errors.corruptedImage": "La imagen parece dañada o ilegible.",
    "errors.fileType": "Elige un archivo de imagen.",
    "errors.fileRead": "No se pudo leer el archivo.",
    "errors.clipboard": "No se pudo copiar al portapapeles.",
    "errors.breeds": "No se pudieron obtener las clases de Dofus.",
    "errors.itemsUnavailable": "No se pudieron obtener los objetos de Dofus por ahora.",
    "errors.itemsPartial": "Algunas categorías de objetos no se pudieron cargar.",
    "errors.previewUnavailable": "Vista previa no disponible",
    "errors.previewUnavailableDetailed": "Vista previa de Dofus no disponible",
    "errors.imageMissing": "Ilustración ausente en DofusDB.",
    "errors.paletteMissing": "Paleta no detectada en la ilustración.",
    "errors.paletteEstimated": "Paleta estimada a partir de los datos de DofusDB.",
    "errors.shareLink": "No se puede generar el enlace del skin.",
    "errors.recapExport": "No se pudo generar la imagen de resumen.",
    "suggestions.header.updating": "Actualizando…",
    "suggestions.empty.start": "Inicia un análisis para descubrir combinaciones de Dofus adecuadas.",
    "suggestions.empty.items": "Selecciona al menos un objeto para generar propuestas.",
    "suggestions.empty.itemsPalette": "Los objetos seleccionados no tienen una paleta utilizable.",
    "suggestions.empty.identity": "Selecciona una clase y un color de referencia para ver sugerencias adaptadas.",
    "suggestions.empty.results": "No se encontraron combinaciones utilizables para esta paleta.",
    "suggestions.loading.items": "Cargando objetos de Dofus…",
    "suggestions.empty.catalog": "Todavía no se han podido recuperar objetos.",
    "suggestions.carousel.skinCount": "Skin {current} / {total}",
    "suggestions.carousel.previous": "Skin anterior",
    "suggestions.carousel.next": "Skin siguiente",
    "suggestions.carousel.dotLabel": "Mostrar skin {index}",
    "suggestions.carousel.proposalTitle": "Propuesta {index}",
    "suggestions.render.alt": "Vista generada para el skin {index}",
    "suggestions.render.itemAlt": "Ilustración de {name}",
    "suggestions.render.downloading": "Descargando…",
    "suggestions.render.download": "Descargar imagen",
    "suggestions.render.loading": "Renderizando…",
    "suggestions.render.unavailable": "Render no disponible",
    "suggestions.render.defaultName": "Propuesta {index}",
    "suggestions.render.link": "Proyectar en Barbofus",
    "suggestions.render.linkUnavailable": "Pasarela Barbofus no disponible",
    "suggestions.render.souff": "Abrir en Skin Souff",
    "suggestions.render.souffUnavailable": "Enlace de Skin Souff no disponible",
    "suggestions.render.copySkin": "Copiar el render KROSKIN",
    "suggestions.render.copySkinUnavailable": "Copia de render no disponible",
    "suggestions.render.share": "Compartir la vitrina",
    "suggestions.render.shareUnavailable": "Vínculo de vitrina no disponible",
    "suggestions.render.recap": "Exportar la vitrina HD",
    "suggestions.render.recapUnavailable": "Exportación de vitrina no disponible",
    "suggestions.render.comparisonAria": "Mantén pulsado el botón del ojo para mostrar el personaje sin equipamiento",
    "suggestions.render.noStuffLabel": "Sin equipamiento",
    "suggestions.render.stuffLabel": "Con equipamiento",
    "suggestions.render.tapForDetails": "Toca para ver los detalles",
    "suggestions.render.openDetails": "Ver detalles",
    "suggestions.panel.title": "Coincidencias detalladas",
    "suggestions.panel.hide": "Ocultar coincidencias detalladas",
    "suggestions.panel.show": "Mostrar coincidencias detalladas",
    "suggestions.panel.close": "Cerrar coincidencias detalladas",
    "suggestions.panel.updating": "Actualizando sugerencias…",
    "suggestions.panel.bestMatch": "Mejor coincidencia",
    "suggestions.panel.empty": "No hay coincidencias convincentes para este tono.",
    "suggestions.render.reroll": "Mostrar otro objeto",
    "suggestions.palette.unavailable": "Paleta no disponible",
    "suggestions.thumb.placeholder": "Vista previa no disponible",
    "actions.retry": "Reintentar",
    "actions.downloadImage": "Descargar imagen",
    "actions.close": "Cerrar",
    "actions.clear": "Reiniciar",
    "language.selectorLabel": "Idioma",
    "language.selectorAria": "Elegir el idioma de la interfaz",
    "aria.analysisMode": "Modo de análisis",
    "aria.colorSuggestions": "Sugerencias de color",
    "aria.colorCodeFormat": "Formato de los códigos de color",
    "aria.skinToneGroup": "Gestión del tono de piel",
    "aria.skinToneChoices": "Opciones de tono de piel",
    "aria.identityCard": "Configuración del personaje de Dofus",
    "aria.filtersCard": "Controles de filtros de sugerencias",
    "aria.genderSection": "Selección de género",
    "aria.genderGroup": "Género del personaje",
    "aria.classSection": "Selección de clase",
    "aria.classGroup": "Clase del personaje",
    "aria.companionSection": "Categorías de compañeros sugeridas",
    "aria.companionFilter": "Filtrar los compañeros sugeridos",
    "aria.itemFlagSection": "Filtros de atributos de objetos",
    "aria.itemFlagFilter": "Filtrar los objetos sugeridos por atributos",
    "aria.optionalItemFilter": "Activar o desactivar los objetos opcionales",
    "aria.combatPoseToggle": "Activar o desactivar la pose de combate",
    "aria.previewBackgroundSection": "Configuración del fondo de previsualización",
    "aria.previewBackgroundToggle": "Activar o desactivar el fondo de previsualización",
    "aria.previewBackgroundPicker": "Seleccionar un fondo de previsualización",
    "aria.previewBackgroundCard": "Configuración del fondo inmersivo",
    "aria.previewDirectionControl": "Cambiar la dirección del render",
    "aria.carouselPrevious": "Skin anterior",
    "aria.carouselNext": "Skin siguiente",
    "aria.carouselDots": "Elegir una propuesta",
    "aria.carouselDotSelect": "Mostrar skin {index}",
    "aria.panelToggleOpen": "Mostrar coincidencias detalladas",
    "aria.panelToggleClose": "Ocultar coincidencias detalladas",
    "aria.panelClose": "Cerrar coincidencias detalladas",
    "aria.panelBackdrop": "Cerrar coincidencias detalladas",
    "aria.itemReroll": "Mostrar otro {type}",
    "aria.itemSlotClear": "Quitar {type}",
    "aria.closeItemPanel": "Cerrar la selección de objetos",
  },
  de: {
    "brand.tagline": "Kreiere deinen Style. Meistere deinen Skin.",
    "meta.description":
      "KROSKIN extrahiert die dominanten Farben deiner Bilder und erstellt harmonische Dofus-Outfits.",
    "theme.selectorAria": "Theme-Auswahl",
    "theme.option.dark": "Dunkel",
    "theme.option.light": "Hell",
    "theme.option.dofus": "Dofus",
    "theme.option.intelligent": "Intelligent",
    "progress.analyzing": "Bildanalyse läuft",
    "progress.completed": "Analyse abgeschlossen",
    "progress.ready": "Analyse bereit",
    "toast.colorCopied": "Farbe kopiert",
    "toast.shareLinkCopied": "Freigabelink kopiert",
    "toast.previewCopied": "Vorschau kopiert",
    "workspace.referenceTitle": "Kreative Referenz",
    "workspace.mode.image": "Bild",
    "workspace.mode.color": "Farbe",
    "workspace.mode.items": "Gegenstände",
    "workspace.dropzone.primary": "Zieh dein Motiv hierher",
    "workspace.dropzone.secondary": "… oder füge es direkt aus der Zwischenablage ein",
    "workspace.dropzone.formats": "Unterstützte Formate: PNG, JPG, WebP, statisches GIF",
    "workspace.dropzone.hint": "Zum Öffnen des Dateidialogs klicken",
    "workspace.dropzone.previewAlt": "Vorschau der importierten Referenz",
    "workspace.colorPicker.label": "Wähle deinen Grundton",
    "workspace.colorPicker.random": "Zufälliger Farbton",
    "workspace.colorPicker.sr": "Farbe {hex} verwenden",
    "palette.title": "Extrahierte Palette",
    "palette.badge.analyzing": "Analyse läuft…",
    "palette.skin.groupLabel": "Hautton-Verwaltung",
    "palette.skin.default": "Standard-Hautton",
    "palette.skin.custom": "Eigener Hautton",
    "palette.empty":
      "Zieh ein Bild hierher oder wähle eine Stimmungfarbe – KROSKIN erstellt automatisch eine harmonische Palette.",
    "vision.prediction.title": "Modellvorhersage",
    "vision.prediction.loading": "Vorhersage läuft…",
    "vision.prediction.placeholder": "Lade ein Bild hoch, um das Modell zu starten.",
    "vision.prediction.topClass": "Vorhergesagte Klasse",
    "vision.prediction.confidence": "Sicherheit",
    "vision.prediction.colors": "Erkannte Farben",
    "vision.prediction.top5": "Top 5 Klassen",
    "vision.prediction.preview.title": "Renderer-Vorschau",
    "vision.prediction.preview.alt": "Skin mit der vorhergesagten Palette",
    "vision.prediction.preview.missing": "Keine Vorschau verfügbar.",
    "vision.prediction.preview.open": "Renderer öffnen",
    "vision.prediction.preview.metaClass": "Klasse / Geschlecht",
    "vision.prediction.preview.metaHead": "Kopf",
    "vision.prediction.preview.noHead": "Keiner",
    "vision.prediction.error": "Die Vorhersage konnte derzeit nicht berechnet werden.",
    "vision.prediction.sex.unknown": "Unbekannt",
    "vision.lab.title": "Dofus Vision Labor",
    "vision.lab.subtitle":
      "Erzeuge Sprites, trainiere das Modell und prüfe Vorhersagen direkt in KROSKIN.",
    "vision.lab.generate.title": "Dataset generieren",
    "vision.lab.generate.description": "Erstellt zufällige Renderings, um deine Trainingsdaten zu erweitern.",
    "vision.lab.generate.per": "Bilder pro Kombination",
    "vision.lab.generate.renderer": "Renderer-URL",
    "vision.lab.generate.button": "Generierung starten",
    "vision.lab.generate.status.idle": "Bereit für einen neuen Durchlauf.",
    "vision.lab.generate.status.running": "Dataset wird erzeugt…",
    "vision.lab.generate.status.success": "Dataset erfolgreich erstellt.",
    "vision.lab.generate.status.error": "Generierung fehlgeschlagen. Prüfe den Renderer.",
    "vision.lab.train.title": "Modell trainieren",
    "vision.lab.train.description": "Feinjustiere die Klassen-/Geschlechtserkennung mit wenigen Parametern.",
    "vision.lab.train.epochs": "Epochen",
    "vision.lab.train.batch": "Batch-Größe",
    "vision.lab.train.imgSize": "Bildgröße",
    "vision.lab.train.learningRate": "Learning Rate",
    "vision.lab.train.button": "Training starten",
    "vision.lab.train.status.idle": "Bereit für einen neuen Trainingslauf.",
    "vision.lab.train.status.running": "Training läuft…",
    "vision.lab.train.status.success": "Modell erfolgreich aktualisiert.",
    "vision.lab.train.status.error": "Training fehlgeschlagen. Sieh dir die Server-Logs an.",
    "vision.lab.predict.title": "Bild testen",
    "vision.lab.predict.description": "Lade ein Skin-Bild hoch, um die Vorhersage zu prüfen.",
    "vision.lab.predict.upload": "Bild auswählen",
    "vision.lab.predict.error": "Dieses Bild kann momentan nicht vorhergesagt werden.",
    "identity.groupLabel": "Dofus-Charakterkonfiguration",
    "identity.gender.sectionTitle": "Klassen- und Geschlechtswahl",
    "identity.gender.groupLabel": "Geschlecht des Charakters",
    "identity.gender.male": "Männlich",
    "identity.gender.female": "Weiblich",
    "identity.class.sectionTitle": "Klassenwahl",
    "identity.class.loading": "Klassen werden geladen…",
    "identity.class.retry": "Erneut versuchen",
    "identity.class.fallback": "Klasse {id}",
    "identity.class.choose": "{name} wählen",
    "identity.companion.sectionTitle": "Vorgeschlagene Begleiter & Reittiere",
    "identity.companion.groupLabel": "Vorgeschlagene Begleiter filtern",
    "identity.companion.empty": "Aktiviere mindestens eine Kategorie, um Begleitervorschläge zu sehen.",
    "identity.filters.sectionTitle": "Objektfilter",
    "identity.filters.optionalTitle": "Optionale Gegenstände",
    "identity.preview.combatPose": "Kampfpose",
    "identity.preview.direction.label": "Ausrichtung der Figur",
    "identity.preview.direction.right": "Nach rechts ausrichten",
    "identity.preview.direction.bottomRight": "Nach unten rechts ausrichten",
    "identity.preview.direction.bottom": "Nach unten ausrichten",
    "identity.preview.direction.bottomLeft": "Nach unten links ausrichten",
    "identity.preview.direction.left": "Nach links ausrichten",
    "identity.preview.direction.topLeft": "Nach oben links ausrichten",
    "identity.preview.direction.top": "Nach oben ausrichten",
    "identity.preview.direction.topRight": "Nach oben rechts ausrichten",
    "identity.preview.direction.rotateLeft": "Nach links drehen",
    "identity.preview.direction.rotateRight": "Nach rechts drehen",
    "identity.preview.direction.hint":
      "Klicke bzw. tippe und ziehe zum Drehen. Nutze die Pfeiltasten, um die Richtung zu ändern.",
    "identity.preview.direction.announce": "Aktuelle Ausrichtung: {direction}",
    "identity.previewBackground.sectionTitle": "Vorschau-Hintergrund",
    "identity.previewBackground.toggleLabel": "Stimmungsvoller Hintergrund",
    "identity.previewBackground.enable": "Stimmungsvollen Vorschau-Hintergrund aktivieren",
    "identity.previewBackground.disable": "Stimmungsvollen Vorschau-Hintergrund deaktivieren",
    "identity.previewBackground.auto": "Automatisch",
    "identity.previewBackground.random": "Zufällig",
    "identity.previewBackground.choose": "Hintergrund {label} verwenden",
    "identity.previewBackground.chooseAuto": "Automatisch den passendsten Hintergrund auswählen",
    "identity.previewBackground.chooseRandom": "Einen zufälligen Hintergrund wählen",
    "identity.previewBackground.empty":
      "Füge PNG-Dateien im Ordner „backgrounds“ hinzu, um diese Option zu aktivieren.",
    "previewBackground.card.title": "Stimmungsvoller Hintergrund",
    "filters.card.title": "Vorschlagsfilter",
    "companions.filters.pet": "Begleiter",
    "companions.filters.mount": "Reittiere",
    "companions.filters.dragodinde": "Dragoturms",
    "companions.filters.muldo": "Muldo",
    "companions.filters.volkorne": "Volkorne",
    "companions.toggle.hide": "{label} ausblenden",
    "companions.toggle.show": "{label} anzeigen",
    "itemTypes.coiffe": "Helm",
    "itemTypes.cape": "Umhang",
    "itemTypes.familier": "Begleiter & Reittiere",
    "itemTypes.bouclier": "Schild",
    "itemTypes.epauliere": "Schulterstücke",
    "itemTypes.costume": "Kostüm",
    "itemTypes.ailes": "Flügel",
    "items.selector.title": "Wähle {type}",
    "items.selector.loading": "Gegenstände werden geladen…",
    "items.selector.empty": "Keine Gegenstände passen zu deiner Suche.",
    "items.selector.hint": "Wähle einen Slot, um passende Gegenstände zu durchsuchen.",
    "items.selector.searchLabel": "Gegenstand suchen",
    "items.selector.searchPlaceholder": "Gegenstand suchen…",
    "items.selector.lockedBadge": "Ausgewählt",
    "items.selector.countTotal": "{count} Gegenstände",
    "items.selector.countFiltered": "{count} von {total}",
    "items.selector.disabled": "Deaktiviert",
    "items.filters.colorable": "Farbanpassbar",
    "items.filters.cosmetic": "Kosmetisch",
    "items.flags.cosmetic": "Kosmetischer Gegenstand",
    "items.flags.colorable": "Passt sich den Charakterfarben an",
    "errors.previewDownload": "Vorschau konnte nicht heruntergeladen werden.",
    "errors.previewCopy": "Vorschau konnte nicht kopiert werden.",
    "errors.noColors": "Keine dominanten Farben erkannt.",
    "errors.paletteExtraction": "Farben konnten nicht aus diesem Bild extrahiert werden.",
    "errors.corruptedImage": "Das Bild scheint beschädigt oder unlesbar zu sein.",
    "errors.fileType": "Bitte wähle eine Bilddatei aus.",
    "errors.fileRead": "Datei konnte nicht gelesen werden.",
    "errors.clipboard": "In die Zwischenablage konnte nicht kopiert werden.",
    "errors.breeds": "Dofus-Klassen konnten nicht geladen werden.",
    "errors.itemsUnavailable": "Dofus-Gegenstände können derzeit nicht geladen werden.",
    "errors.itemsPartial": "Einige Gegenstandskategorien konnten nicht geladen werden.",
    "errors.previewUnavailable": "Vorschau nicht verfügbar",
    "errors.previewUnavailableDetailed": "Dofus-Vorschau nicht verfügbar",
    "errors.imageMissing": "Illustration auf DofusDB fehlt.",
    "errors.paletteMissing": "Palette auf der Illustration nicht erkannt.",
    "errors.paletteEstimated": "Palette aus DofusDB-Daten geschätzt.",
    "errors.shareLink": "Skin-Link konnte nicht erstellt werden.",
    "errors.recapExport": "Zusammenfassungsbild konnte nicht erstellt werden.",
    "suggestions.header.updating": "Aktualisierung…",
    "suggestions.empty.start": "Starte eine Analyse, um passende Dofus-Gegenstände zu entdecken.",
    "suggestions.empty.items": "Wähle mindestens einen Gegenstand, um Vorschläge zu erhalten.",
    "suggestions.empty.itemsPalette": "Die ausgewählten Gegenstände liefern keine nutzbare Palette.",
    "suggestions.empty.identity":
      "Wähle eine Klasse und eine Referenzfarbe, um passende Vorschläge zu erhalten.",
    "suggestions.empty.results": "Für diese Palette wurden keine passenden Kombinationen gefunden.",
    "suggestions.loading.items": "Dofus-Gegenstände werden geladen…",
    "suggestions.empty.catalog": "Es konnten noch keine Gegenstände abgerufen werden.",
    "suggestions.carousel.skinCount": "Skin {current} / {total}",
    "suggestions.carousel.previous": "Vorheriger Skin",
    "suggestions.carousel.next": "Nächster Skin",
    "suggestions.carousel.dotLabel": "Skin {index} anzeigen",
    "suggestions.carousel.proposalTitle": "Vorschlag {index}",
    "suggestions.render.alt": "Generierte Vorschau für Skin {index}",
    "suggestions.render.itemAlt": "Illustration von {name}",
    "suggestions.render.downloading": "Wird heruntergeladen…",
    "suggestions.render.download": "Bild herunterladen",
    "suggestions.render.loading": "Render wird erstellt…",
    "suggestions.render.unavailable": "Render nicht verfügbar",
    "suggestions.render.defaultName": "Vorschlag {index}",
    "suggestions.render.link": "Im Barbofus projizieren",
    "suggestions.render.linkUnavailable": "Barbofus-Bridge nicht verfügbar",
    "suggestions.render.souff": "In Skin Souff öffnen",
    "suggestions.render.souffUnavailable": "Skin-Souff-Link nicht verfügbar",
    "suggestions.render.copySkin": "KROSKIN-Render kopieren",
    "suggestions.render.copySkinUnavailable": "Render-Kopie nicht verfügbar",
    "suggestions.render.share": "Showcase teilen",
    "suggestions.render.shareUnavailable": "Showcase-Link nicht verfügbar",
    "suggestions.render.recap": "HD-Showcase exportieren",
    "suggestions.render.recapUnavailable": "Showcase-Export nicht verfügbar",
    "suggestions.render.comparisonAria": "Halte die Augen-Schaltfläche gedrückt, um den Charakter ohne Ausrüstung anzuzeigen",
    "suggestions.render.noStuffLabel": "Ohne Ausrüstung",
    "suggestions.render.stuffLabel": "Mit Ausrüstung",
    "suggestions.render.tapForDetails": "Tippe, um Details zu sehen",
    "suggestions.render.openDetails": "Details anzeigen",
    "suggestions.panel.title": "Detailierte Treffer",
    "suggestions.panel.hide": "Detailierte Treffer ausblenden",
    "suggestions.panel.show": "Detailierte Treffer anzeigen",
    "suggestions.panel.close": "Detailierte Treffer schließen",
    "suggestions.panel.updating": "Vorschläge werden aktualisiert…",
    "suggestions.panel.bestMatch": "Beste Übereinstimmung",
    "suggestions.panel.empty": "Keine überzeugende Übereinstimmung für diesen Ton.",
    "suggestions.render.reroll": "Anderer Gegenstand",
    "suggestions.palette.unavailable": "Palette nicht verfügbar",
    "suggestions.thumb.placeholder": "Vorschau nicht verfügbar",
    "actions.retry": "Erneut versuchen",
    "actions.downloadImage": "Bild herunterladen",
    "actions.close": "Schließen",
    "actions.clear": "Zurücksetzen",
    "language.selectorLabel": "Sprache",
    "language.selectorAria": "Interface-Sprache auswählen",
    "aria.analysisMode": "Analysemodus",
    "aria.colorSuggestions": "Farbvorschläge",
    "aria.colorCodeFormat": "Format der Farbcodes",
    "aria.skinToneGroup": "Hautton-Verwaltung",
    "aria.skinToneChoices": "Hautton-Auswahl",
    "aria.identityCard": "Dofus-Charakterkonfiguration",
    "aria.filtersCard": "Steuerung der Vorschlagsfilter",
    "aria.genderSection": "Geschlechtswahl",
    "aria.genderGroup": "Geschlecht des Charakters",
    "aria.classSection": "Klassenwahl",
    "aria.classGroup": "Klasse des Charakters",
    "aria.companionSection": "Vorgeschlagene Begleiterkategorien",
    "aria.companionFilter": "Vorgeschlagene Begleiter filtern",
    "aria.itemFlagSection": "Filter für Objektattribute",
    "aria.itemFlagFilter": "Vorgeschlagene Objekte nach Attributen filtern",
    "aria.optionalItemFilter": "Optionale Gegenstände ein- oder ausblenden",
    "aria.combatPoseToggle": "Kampfpose ein- oder ausschalten",
    "aria.previewBackgroundSection": "Einstellungen für den Vorschau-Hintergrund",
    "aria.previewBackgroundToggle": "Vorschau-Hintergrund ein- oder ausschalten",
    "aria.previewBackgroundPicker": "Einen Vorschau-Hintergrund auswählen",
    "aria.previewBackgroundCard": "Einstellungen für den stimmungsvollen Hintergrund",
    "aria.previewDirectionControl": "Ausrichtung der Vorschau ändern",
    "aria.carouselPrevious": "Vorheriger Skin",
    "aria.carouselNext": "Nächster Skin",
    "aria.carouselDots": "Einen Vorschlag wählen",
    "aria.carouselDotSelect": "Skin {index} anzeigen",
    "aria.panelToggleOpen": "Detailierte Treffer anzeigen",
    "aria.panelToggleClose": "Detailierte Treffer ausblenden",
    "aria.panelClose": "Detailierte Treffer schließen",
    "aria.panelBackdrop": "Detailierte Treffer schließen",
    "aria.itemReroll": "Anderen {type} anzeigen",
    "aria.itemSlotClear": "{type} entfernen",
    "aria.closeItemPanel": "Gegenstandsauswahl schließen",
  },
  pt: {
    "brand.tagline": "Crie seu estilo. Domine seu skin.",
    "meta.description":
      "KROSKIN extrai as cores dominantes das suas imagens para criar visuais harmoniosos de Dofus.",
    "theme.selectorAria": "Seleção de tema",
    "theme.option.dark": "Escuro",
    "theme.option.light": "Claro",
    "theme.option.dofus": "Dofus",
    "theme.option.intelligent": "Inteligente",
    "progress.analyzing": "Analisando imagem",
    "progress.completed": "Análise concluída",
    "progress.ready": "Análise pronta",
    "toast.colorCopied": "Cor copiada",
    "toast.shareLinkCopied": "Link de compartilhamento copiado",
    "toast.previewCopied": "Prévia copiada",
    "workspace.referenceTitle": "Referência criativa",
    "workspace.mode.image": "Imagem",
    "workspace.mode.color": "Cor",
    "workspace.mode.items": "Itens",
    "workspace.dropzone.primary": "Solte o visual aqui",
    "workspace.dropzone.secondary": "… ou cole diretamente da área de transferência",
    "workspace.dropzone.formats": "Formatos compatíveis: PNG, JPG, WebP, GIF estático",
    "workspace.dropzone.hint": "Clique para abrir o seletor de arquivos",
    "workspace.dropzone.previewAlt": "Prévia da referência importada",
    "workspace.colorPicker.label": "Escolha o tom base",
    "workspace.colorPicker.random": "Tom aleatório",
    "workspace.colorPicker.sr": "Usar a cor {hex}",
    "palette.title": "Paleta extraída",
    "palette.badge.analyzing": "Analisando…",
    "palette.skin.groupLabel": "Gerenciamento de tom de pele",
    "palette.skin.default": "Pele padrão",
    "palette.skin.custom": "Pele personalizada",
    "palette.empty":
      "Solte uma imagem ou escolha uma cor de ambiente — a KROSKIN gera automaticamente uma paleta harmoniosa.",
    "vision.prediction.title": "Predição do modelo",
    "vision.prediction.loading": "Executando predição…",
    "vision.prediction.placeholder": "Envie uma imagem para executar o modelo.",
    "vision.prediction.topClass": "Classe prevista",
    "vision.prediction.confidence": "Confiança",
    "vision.prediction.colors": "Cores detectadas",
    "vision.prediction.top5": "Top 5 classes",
    "vision.prediction.preview.title": "Prévia do renderer",
    "vision.prediction.preview.alt": "Skin gerado com a paleta prevista",
    "vision.prediction.preview.missing": "Nenhuma prévia disponível.",
    "vision.prediction.preview.open": "Abrir renderer",
    "vision.prediction.preview.metaClass": "Classe / Gênero",
    "vision.prediction.preview.metaHead": "Cabeça",
    "vision.prediction.preview.noHead": "Nenhuma",
    "vision.prediction.error": "Não foi possível calcular a predição no momento.",
    "vision.prediction.sex.unknown": "Desconhecido",
    "vision.lab.title": "Laboratório Dofus Vision",
    "vision.lab.subtitle":
      "Gere sprites, treine o modelo e valide previsões sem sair da KROSKIN.",
    "vision.lab.generate.title": "Gerar dataset",
    "vision.lab.generate.description": "Crie renders aleatórios para ampliar seus dados de treino.",
    "vision.lab.generate.per": "Imagens por combinação",
    "vision.lab.generate.renderer": "URL do renderizador",
    "vision.lab.generate.button": "Iniciar geração",
    "vision.lab.generate.status.idle": "Pronto para gerar um novo lote.",
    "vision.lab.generate.status.running": "Gerando dataset…",
    "vision.lab.generate.status.success": "Dataset gerado com sucesso.",
    "vision.lab.generate.status.error": "A geração falhou. Verifique o renderizador.",
    "vision.lab.train.title": "Treinar o modelo",
    "vision.lab.train.description": "Ajuste o reconhecimento de classe/sexo com poucos hiperparâmetros essenciais.",
    "vision.lab.train.epochs": "Epochs",
    "vision.lab.train.batch": "Tamanho do lote",
    "vision.lab.train.imgSize": "Tamanho da imagem",
    "vision.lab.train.learningRate": "Learning rate",
    "vision.lab.train.button": "Iniciar treinamento",
    "vision.lab.train.status.idle": "Pronto para iniciar um treinamento.",
    "vision.lab.train.status.running": "Treinamento em andamento…",
    "vision.lab.train.status.success": "Modelo atualizado com sucesso.",
    "vision.lab.train.status.error": "O treinamento falhou. Consulte os logs do servidor.",
    "vision.lab.predict.title": "Testar uma imagem",
    "vision.lab.predict.description": "Envie um visual para verificar a previsão do modelo.",
    "vision.lab.predict.upload": "Selecionar imagem",
    "vision.lab.predict.error": "Não foi possível prever esta imagem no momento.",
    "identity.groupLabel": "Configuração do personagem de Dofus",
    "identity.gender.sectionTitle": "Escolha da classe e do gênero",
    "identity.gender.groupLabel": "Gênero do personagem",
    "identity.gender.male": "Masculino",
    "identity.gender.female": "Feminino",
    "identity.class.sectionTitle": "Escolha da classe",
    "identity.class.loading": "Carregando classes…",
    "identity.class.retry": "Tentar novamente",
    "identity.class.fallback": "Classe {id}",
    "identity.class.choose": "Escolher {name}",
    "identity.companion.sectionTitle": "Mascotes e montarias sugeridos",
    "identity.companion.groupLabel": "Filtrar os companheiros sugeridos",
    "identity.companion.empty": "Ative pelo menos uma categoria para exibir sugestões de companheiros.",
    "identity.filters.sectionTitle": "Filtros de itens",
    "identity.filters.optionalTitle": "Itens opcionais",
    "identity.preview.combatPose": "Pose de combate",
    "identity.preview.direction.label": "Direção do personagem",
    "identity.preview.direction.right": "Virar para a direita",
    "identity.preview.direction.bottomRight": "Virar para baixo à direita",
    "identity.preview.direction.bottom": "Virar para baixo",
    "identity.preview.direction.bottomLeft": "Virar para baixo à esquerda",
    "identity.preview.direction.left": "Virar para a esquerda",
    "identity.preview.direction.topLeft": "Virar para cima à esquerda",
    "identity.preview.direction.top": "Virar para cima",
    "identity.preview.direction.topRight": "Virar para cima à direita",
    "identity.preview.direction.rotateLeft": "Girar para a esquerda",
    "identity.preview.direction.rotateRight": "Girar para a direita",
    "identity.preview.direction.hint":
      "Clica ou toca e arrasta para girar. Usa as setas do teclado para mudar a direção.",
    "identity.preview.direction.announce": "Orientação atual: {direction}",
    "identity.previewBackground.sectionTitle": "Fundo da pré-visualização",
    "identity.previewBackground.toggleLabel": "Fundo imersivo",
    "identity.previewBackground.enable": "Ativar o fundo imersivo da pré-visualização",
    "identity.previewBackground.disable": "Desativar o fundo imersivo da pré-visualização",
    "identity.previewBackground.auto": "Automático",
    "identity.previewBackground.random": "Aleatório",
    "identity.previewBackground.choose": "Usar o fundo {label}",
    "identity.previewBackground.chooseAuto": "Escolher automaticamente o fundo mais adequado",
    "identity.previewBackground.chooseRandom": "Escolher um fundo aleatório",
    "identity.previewBackground.empty":
      "Adicione arquivos PNG na pasta \"backgrounds\" para ativar esta opção.",
    "previewBackground.card.title": "Fundo imersivo",
    "filters.card.title": "Filtros de sugestões",
    "companions.filters.pet": "Mascotes",
    "companions.filters.mount": "Montarias",
    "companions.filters.dragodinde": "Dragoperus",
    "companions.filters.muldo": "Muldo",
    "companions.filters.volkorne": "Volkorne",
    "companions.toggle.hide": "Ocultar {label}",
    "companions.toggle.show": "Mostrar {label}",
    "itemTypes.coiffe": "Chapéu",
    "itemTypes.cape": "Capa",
    "itemTypes.familier": "Mascotes e montarias",
    "itemTypes.bouclier": "Escudo",
    "itemTypes.epauliere": "Ombreiras",
    "itemTypes.costume": "Fantasia",
    "itemTypes.ailes": "Asas",
    "items.selector.title": "Selecionar {type}",
    "items.selector.loading": "Carregando itens…",
    "items.selector.empty": "Nenhum item corresponde à sua busca.",
    "items.selector.hint": "Escolha um slot para explorar os itens compatíveis.",
    "items.selector.searchLabel": "Buscar item",
    "items.selector.searchPlaceholder": "Buscar um item…",
    "items.selector.lockedBadge": "Selecionado",
    "items.selector.countTotal": "{count} item(ns)",
    "items.selector.countFiltered": "{count} de {total}",
    "items.selector.disabled": "Desativado",
    "items.filters.colorable": "Colorizáveis",
    "items.filters.cosmetic": "Cosméticos",
    "items.flags.cosmetic": "Item cosmético",
    "items.flags.colorable": "Acompanha as cores do personagem",
    "errors.previewDownload": "Não foi possível baixar a prévia.",
    "errors.previewCopy": "Não foi possível copiar a prévia.",
    "errors.noColors": "Nenhuma cor dominante detectada.",
    "errors.paletteExtraction": "Não foi possível extrair as cores desta imagem.",
    "errors.corruptedImage": "A imagem parece corrompida ou ilegível.",
    "errors.fileType": "Escolha um arquivo de imagem.",
    "errors.fileRead": "Não foi possível ler o arquivo.",
    "errors.clipboard": "Não foi possível copiar para a área de transferência.",
    "errors.breeds": "Não foi possível obter as classes de Dofus.",
    "errors.itemsUnavailable": "Não foi possível obter os itens de Dofus no momento.",
    "errors.itemsPartial": "Algumas categorias de itens não puderam ser carregadas.",
    "errors.previewUnavailable": "Prévia indisponível",
    "errors.previewUnavailableDetailed": "Prévia de Dofus indisponível",
    "errors.imageMissing": "Ilustração ausente no DofusDB.",
    "errors.paletteMissing": "Paleta não detectada na ilustração.",
    "errors.paletteEstimated": "Paleta estimada a partir dos dados do DofusDB.",
    "errors.shareLink": "Não foi possível gerar o link do skin.",
    "errors.recapExport": "Não foi possível gerar a imagem de resumo.",
    "suggestions.header.updating": "Atualizando…",
    "suggestions.empty.start": "Inicie uma análise para descobrir combinações adequadas de Dofus.",
    "suggestions.empty.items": "Selecione pelo menos um item para gerar propostas.",
    "suggestions.empty.itemsPalette": "Os itens selecionados não possuem uma paleta utilizável.",
    "suggestions.empty.identity":
      "Escolha uma classe e uma cor de referência para ver sugestões personalizadas.",
    "suggestions.empty.results": "Nenhuma combinação utilizável foi encontrada para esta paleta.",
    "suggestions.loading.items": "Carregando itens de Dofus…",
    "suggestions.empty.catalog": "Nenhum item pôde ser recuperado por enquanto.",
    "suggestions.carousel.skinCount": "Skin {current} / {total}",
    "suggestions.carousel.previous": "Skin anterior",
    "suggestions.carousel.next": "Próximo skin",
    "suggestions.carousel.dotLabel": "Mostrar skin {index}",
    "suggestions.carousel.proposalTitle": "Proposta {index}",
    "suggestions.render.alt": "Prévia gerada para o skin {index}",
    "suggestions.render.itemAlt": "Ilustração de {name}",
    "suggestions.render.downloading": "Baixando…",
    "suggestions.render.download": "Baixar imagem",
    "suggestions.render.loading": "Renderizando…",
    "suggestions.render.unavailable": "Render indisponível",
    "suggestions.render.defaultName": "Proposta {index}",
    "suggestions.render.link": "Projetar no Barbofus",
    "suggestions.render.linkUnavailable": "Ponte Barbofus indisponível",
    "suggestions.render.souff": "Abrir no Skin Souff",
    "suggestions.render.souffUnavailable": "Link do Skin Souff indisponível",
    "suggestions.render.copySkin": "Copiar o render KROSKIN",
    "suggestions.render.copySkinUnavailable": "Cópia do render indisponível",
    "suggestions.render.share": "Compartilhar a vitrine",
    "suggestions.render.shareUnavailable": "Link da vitrine indisponível",
    "suggestions.render.recap": "Exportar a vitrine HD",
    "suggestions.render.recapUnavailable": "Exportação da vitrine indisponível",
    "suggestions.render.comparisonAria": "Mantenha o botão do olho pressionado para mostrar o visual sem equipamento",
    "suggestions.render.noStuffLabel": "Sem equipamento",
    "suggestions.render.stuffLabel": "Com equipamento",
    "suggestions.render.tapForDetails": "Toque para ver os detalhes",
    "suggestions.render.openDetails": "Ver detalhes",
    "suggestions.panel.title": "Correspondências detalhadas",
    "suggestions.panel.hide": "Ocultar correspondências detalhadas",
    "suggestions.panel.show": "Mostrar correspondências detalhadas",
    "suggestions.panel.close": "Fechar correspondências detalhadas",
    "suggestions.panel.updating": "Atualizando sugestões…",
    "suggestions.panel.bestMatch": "Melhor combinação",
    "suggestions.panel.empty": "Nenhuma combinação convincente para este tom.",
    "suggestions.render.reroll": "Mostrar outro item",
    "suggestions.palette.unavailable": "Paleta indisponível",
    "suggestions.thumb.placeholder": "Prévia indisponível",
    "actions.retry": "Tentar novamente",
    "actions.downloadImage": "Baixar imagem",
    "actions.close": "Fechar",
    "actions.clear": "Limpar",
    "language.selectorLabel": "Idioma",
    "language.selectorAria": "Escolher o idioma da interface",
    "aria.analysisMode": "Modo de análise",
    "aria.colorSuggestions": "Sugestões de cores",
    "aria.colorCodeFormat": "Formato dos códigos de cor",
    "aria.skinToneGroup": "Gerenciamento de tom de pele",
    "aria.skinToneChoices": "Opções de tom de pele",
    "aria.identityCard": "Configuração do personagem de Dofus",
    "aria.filtersCard": "Controles dos filtros de sugestões",
    "aria.genderSection": "Escolha de gênero",
    "aria.genderGroup": "Gênero do personagem",
    "aria.classSection": "Escolha da classe",
    "aria.classGroup": "Classe do personagem",
    "aria.companionSection": "Categorias de companheiros sugeridas",
    "aria.companionFilter": "Filtrar os companheiros sugeridos",
    "aria.itemFlagSection": "Filtros de atributos dos itens",
    "aria.itemFlagFilter": "Filtrar itens sugeridos por atributos",
    "aria.optionalItemFilter": "Ativar ou desativar os itens opcionais",
    "aria.combatPoseToggle": "Ativar ou desativar a pose de combate",
    "aria.previewBackgroundSection": "Configurações do fundo da pré-visualização",
    "aria.previewBackgroundToggle": "Ativar ou desativar o fundo da pré-visualização",
    "aria.previewBackgroundPicker": "Escolher um fundo para a pré-visualização",
    "aria.previewBackgroundCard": "Configurações do fundo imersivo",
    "aria.previewDirectionControl": "Alterar a direção da visualização",
    "aria.carouselPrevious": "Skin anterior",
    "aria.carouselNext": "Próximo skin",
    "aria.carouselDots": "Escolher uma proposta",
    "aria.carouselDotSelect": "Mostrar skin {index}",
    "aria.panelToggleOpen": "Mostrar correspondências detalhadas",
    "aria.panelToggleClose": "Ocultar correspondências detalhadas",
    "aria.panelClose": "Fechar correspondências detalhadas",
    "aria.panelBackdrop": "Fechar correspondências detalhadas",
    "aria.itemReroll": "Mostrar outro {type}",
    "aria.itemSlotClear": "Remover {type}",
    "aria.closeItemPanel": "Fechar a seleção de itens",
  },
};

function formatMessage(message, params) {
  if (!message || !params) {
    return message;
  }
  return message.replace(/\{(\w+)\}/g, (match, key) => {
    if (Object.prototype.hasOwnProperty.call(params, key)) {
      const value = params[key];
      return value == null ? "" : String(value);
    }
    return match;
  });
}

export function normalizeLanguage(input) {
  if (!input) {
    return null;
  }
  const candidate = String(input).toLowerCase();
  if (SUPPORTED_LANGUAGES[candidate]) {
    return candidate;
  }
  for (const [code, info] of Object.entries(SUPPORTED_LANGUAGES)) {
    if (info.locales.some((locale) => locale.toLowerCase() === candidate)) {
      return code;
    }
  }
  const simplified = candidate.replace(/[_]/g, "-");
  for (const [code, info] of Object.entries(SUPPORTED_LANGUAGES)) {
    if (info.locales.some((locale) => locale.toLowerCase() === simplified)) {
      return code;
    }
  }
  return null;
}

export function detectBrowserLanguage() {
  if (typeof navigator === "undefined") {
    return DEFAULT_LANGUAGE;
  }

  const candidates = [];
  if (Array.isArray(navigator.languages)) {
    candidates.push(...navigator.languages);
  }
  if (navigator.language) {
    candidates.push(navigator.language);
  }
  if (navigator.userLanguage) {
    candidates.push(navigator.userLanguage);
  }

  for (const entry of candidates) {
    const normalized = normalizeLanguage(entry);
    if (normalized) {
      return normalized;
    }
  }

  return DEFAULT_LANGUAGE;
}

export function getLanguagePriority(language = DEFAULT_LANGUAGE) {
  const normalized = normalizeLanguage(language) ?? DEFAULT_LANGUAGE;
  const base = LANGUAGE_VARIANT_KEYS[normalized] ?? [];
  const defaults = LANGUAGE_VARIANT_KEYS[DEFAULT_LANGUAGE] ?? [];
  const english = LANGUAGE_VARIANT_KEYS.en ?? [];
  const unique = new Set([...base, normalized, ...defaults, DEFAULT_LANGUAGE, ...english, "en", "es", "de", "pt", "fr"]);
  return Array.from(unique);
}

function translateInternal(language, key, params, fallback) {
  const normalized = normalizeLanguage(language) ?? DEFAULT_LANGUAGE;
  const primary = TRANSLATIONS[normalized]?.[key];
  const backup = TRANSLATIONS[DEFAULT_LANGUAGE]?.[key];
  const template = primary ?? backup ?? fallback ?? key;
  return formatMessage(template, params);
}

const STORAGE_KEY = "kroskin:language";

const LanguageContext = createContext({
  language: DEFAULT_LANGUAGE,
  languages: Object.entries(SUPPORTED_LANGUAGES).map(([code, info]) => ({
    code,
    label: info.label,
    flag: info.flag,
    shortLabel: info.shortLabel ?? code.toUpperCase(),
    accessibleLabel: info.country ? `${info.label} · ${info.country}` : info.label,
  })),
  setLanguage: () => {},
  t: (key, params, fallback) => translateInternal(DEFAULT_LANGUAGE, key, params, fallback),
});

export function LanguageProvider({ children, initialLanguage }) {
  const [language, setLanguage] = useState(() => normalizeLanguage(initialLanguage) ?? DEFAULT_LANGUAGE);

  useEffect(() => {
    if (typeof window === "undefined") {
      return;
    }
    try {
      const stored = window.localStorage.getItem(STORAGE_KEY);
      const detected = detectBrowserLanguage();
      const resolved = normalizeLanguage(stored) ?? detected ?? DEFAULT_LANGUAGE;
      if (resolved && resolved !== language) {
        setLanguage(resolved);
      }
    } catch (error) {
      console.error(error);
      const detected = detectBrowserLanguage();
      if (detected && detected !== language) {
        setLanguage(detected);
      }
    }
  }, []);

  useEffect(() => {
    if (typeof window === "undefined") {
      return;
    }
    try {
      window.localStorage.setItem(STORAGE_KEY, language);
    } catch (error) {
      console.error(error);
    }
  }, [language]);

  useEffect(() => {
    if (typeof document === "undefined") {
      return;
    }
    try {
      document.documentElement.setAttribute("lang", language);
    } catch (error) {
      console.error(error);
    }
  }, [language]);

  const value = useMemo(() => {
    const languages = Object.entries(SUPPORTED_LANGUAGES).map(([code, info]) => ({
      code,
      label: info.label,
      flag: info.flag,
      shortLabel: info.shortLabel ?? code.toUpperCase(),
      accessibleLabel: info.country ? `${info.label} · ${info.country}` : info.label,
    }));

    const setLanguageSafe = (next) => {
      const normalized = normalizeLanguage(next) ?? DEFAULT_LANGUAGE;
      setLanguage(normalized);
    };

    const t = (key, params, fallback) => translateInternal(language, key, params, fallback);

    return {
      language,
      languages,
      setLanguage: setLanguageSafe,
      t,
    };
  }, [language]);

  return <LanguageContext.Provider value={value}>{children}</LanguageContext.Provider>;
}

export function useLanguage() {
  return useContext(LanguageContext);
}

export function translate(language, key, params, fallback) {
  return translateInternal(language, key, params, fallback);
}
